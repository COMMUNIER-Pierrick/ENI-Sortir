{% extends 'base.html.twig' %}

{% block title %}

{% endblock %}

{% block body %}
    <h2>Afficher une sortie</h2>
    <br>

    <div class="group">
        <p>Nom de la sortie: {{ sortie.nom }}</p>
        <p>Date et heure de la sortie: {{ sortie.dateHeureDebut|date("d/m/Y H:i") }}</p>
        <p>Date limite d'inscription: {{ sortie.dateLimiteInscription|date("d/m/Y") }}</p>
        <p>Nombre de places: {{ sortie.nbInscriptionsMax }}</p>
        <p>Duree: {{ sortie.duree }} minutes</p>
        <p>Description et infos: {{ sortie.infosSortie }}</p>
    </div>
    <br>

    <div class="group">
        <p>Campus: {{ sortie.campus.nom }}</p>
        <p>Lieu: {{ sortie.lieu.nom }}</p>
        <p>Rue: {{ sortie.lieu.rue }}</p>
        <p>Code postal: {{ sortie.lieu.ville.codePostal }}</p>
        <p>Latitude: {{ sortie.lieu.latitude }}</p>
        <p>Longitude: {{ sortie.lieu.longitude }}</p>
    </div>
    <br>

    <h3>Liste des participants inscrits:</h3>

    {% if sortie.users.count >0 %}
        <table>
            <tr>
                <th>Pseudo</th>
                <th>Nom</th>
            </tr>
            {% for user in sortie.users %}
                <tr>
                    <th>{{ user.pseudo }}</th>
                    <th>{{ user.prenom }} {{ user.nom|upper }}</th>
                </tr>
            {% endfor %}
        </table>
    {% else %}
        <p>Pas de participants inscrits</p>
    {% endif %}
    <br>

    {% if sortie.etatSortie.id == 2 %}
        {% if inscription %}
            <a href="?inscription=false"> Se désister </a>
        {% else %}
            <a href="?inscription=true"> S'inscrire </a>
        {% endif %}
    {% else %}
        <p>Vous ne pouvez pas vous inscrire à cette sortie.</p>
    {% endif %}

{% endblock %}

